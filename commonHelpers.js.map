{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst apiKey = '42458778-da79c0017118817650d1b611e';\n\nexport async function searchImages(query, page = 1, perPage = 15) {\n    try {\n        const response = await axios.get(`https://pixabay.com/api/?key=${apiKey}&q=${query}&page=${page}&per_page=${perPage}`);\n        return response.data;\n    } catch (error) {\n        console.error('Error fetching data:', error);\n        throw error;\n    }\n}\n","import iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst loader = document.getElementById('loader');\nconst gallery = document.getElementById('gallery');\nconst lightbox = new SimpleLightbox('.gallery a');\nconst loadMoreBtn = document.getElementById('loadMoreBtn');\n\nexport function renderGallery(images, isFirstLoad) {\n    loader.style.display = 'none';\n\n    if (images.length === 0) {\n        iziToast.info({\n            title: 'Info',\n            message: 'Sorry, there are no images matching your search query. Please try again!'\n        });\n        hideLoadMoreButton();\n        return;\n    }\n\n    if (isFirstLoad) {\n        showLoadMoreButton();\n    }\n\n    images.forEach(image => {\n        const card = document.createElement('div');\n        card.classList.add('card');\n        card.innerHTML = `\n            <a href=\"${image.largeImageURL}\" data-lightbox=\"gallery\">\n                <img src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n            </a>\n            <p>Likes: ${image.likes}</p>\n            <p>Views: ${image.views}</p>\n            <p>Comments: ${image.comments}</p>\n            <p>Downloads: ${image.downloads}</p>\n        `;\n        gallery.appendChild(card);\n    });\n\n    lightbox.refresh();\n}\n\nexport function hideLoadMoreButton() {\n    loadMoreBtn.style.display = 'none';\n}\n\nexport function showLoadMoreButton() {\n    loadMoreBtn.style.display = 'block';\n}\n\nexport function showEndOfCollectionMessage() {\n    iziToast.info({\n        title: 'Info',\n        message: \"We're sorry, but you've reached the end of search results.\"\n    });\n}\n","import { renderGallery, hideLoadMoreButton, showLoadMoreButton, showEndOfCollectionMessage } from './js/render-functions.js';\nimport { searchImages } from './js/pixabay-api.js';\n\nconst searchForm = document.getElementById('searchForm');\nconst searchInput = document.getElementById('searchInput');\nconst loader = document.getElementById('loader');\nconst gallery = document.getElementById('gallery');\nconst loadMoreBtn = document.getElementById('loadMoreBtn');\n\nlet currentPage = 1;\n\nsearchForm.addEventListener('submit', async function (e) {\n    e.preventDefault();\n    const searchTerm = searchInput.value.trim();\n\n    if (searchTerm === '') {\n        iziToast.error({\n            title: 'Error',\n            message: 'Please enter a search term'\n        });\n        return;\n    }\n\n    loader.style.display = 'block';\n    gallery.innerHTML = '';\n\n    try {\n        const data = await searchImages(searchTerm, currentPage);\n        renderGallery(data.hits, currentPage === 1);\n\n        if (data.hits.length === 0) {\n            hideLoadMoreButton();\n        } else {\n            showLoadMoreButton();\n            currentPage++;\n        }\n    } catch (error) {\n        loader.style.display = 'none';\n        console.error('Error fetching data:', error);\n        iziToast.error({\n            title: 'Error',\n            message: 'An error occurred while fetching data. Please try again.'\n        });\n    }\n});\n\nloadMoreBtn.addEventListener('click', async function () {\n    loader.style.display = 'block';\n\n    try {\n        const data = await searchImages(searchInput.value.trim(), currentPage);\n        renderGallery(data.hits, false);\n\n        if (data.hits.length === 0) {\n            hideLoadMoreButton();\n            showEndOfCollectionMessage();\n        } else {\n            currentPage++;\n        }\n    } catch (error) {\n        loader.style.display = 'none';\n        console.error('Error fetching more data:', error);\n        iziToast.error({\n            title: 'Error',\n            message: 'An error occurred while fetching more data. Please try again.'\n        });\n    }\n});\n\nloadMoreBtn.addEventListener\n"],"names":["apiKey","searchImages","query","page","perPage","axios","error","loader","gallery","lightbox","SimpleLightbox","loadMoreBtn","renderGallery","images","isFirstLoad","iziToast","hideLoadMoreButton","showLoadMoreButton","image","card","showEndOfCollectionMessage","searchForm","searchInput","currentPage","e","searchTerm","data"],"mappings":"owBAEA,MAAMA,EAAS,qCAER,eAAeC,EAAaC,EAAOC,EAAO,EAAGC,EAAU,GAAI,CAC9D,GAAI,CAEA,OADiB,MAAMC,EAAM,IAAI,gCAAgCL,CAAM,MAAME,CAAK,SAASC,CAAI,aAAaC,CAAO,EAAE,GACrG,IACnB,OAAQE,EAAO,CACZ,cAAQ,MAAM,uBAAwBA,CAAK,EACrCA,CACT,CACL,CCPA,MAAMC,EAAS,SAAS,eAAe,QAAQ,EACzCC,EAAU,SAAS,eAAe,SAAS,EAC3CC,EAAW,IAAIC,EAAe,YAAY,EAC1CC,EAAc,SAAS,eAAe,aAAa,EAElD,SAASC,EAAcC,EAAQC,EAAa,CAG/C,GAFAP,EAAO,MAAM,QAAU,OAEnBM,EAAO,SAAW,EAAG,CACrBE,EAAS,KAAK,CACV,MAAO,OACP,QAAS,0EACrB,CAAS,EACDC,IACA,MACH,CAEGF,GACAG,IAGJJ,EAAO,QAAQK,GAAS,CACpB,MAAMC,EAAO,SAAS,cAAc,KAAK,EACzCA,EAAK,UAAU,IAAI,MAAM,EACzBA,EAAK,UAAY;AAAA,uBACFD,EAAM,aAAa;AAAA,4BACdA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,wBAE1CA,EAAM,KAAK;AAAA,wBACXA,EAAM,KAAK;AAAA,2BACRA,EAAM,QAAQ;AAAA,4BACbA,EAAM,SAAS;AAAA,UAEnCV,EAAQ,YAAYW,CAAI,CAChC,CAAK,EAEDV,EAAS,QAAO,CACpB,CAEO,SAASO,GAAqB,CACjCL,EAAY,MAAM,QAAU,MAChC,CAEO,SAASM,GAAqB,CACjCN,EAAY,MAAM,QAAU,OAChC,CAEO,SAASS,GAA6B,CACzCL,EAAS,KAAK,CACV,MAAO,OACP,QAAS,4DACjB,CAAK,CACL,CCtDA,MAAMM,EAAa,SAAS,eAAe,YAAY,EACjDC,EAAc,SAAS,eAAe,aAAa,EACnDf,EAAS,SAAS,eAAe,QAAQ,EACzCC,EAAU,SAAS,eAAe,SAAS,EAC3CG,EAAc,SAAS,eAAe,aAAa,EAEzD,IAAIY,EAAc,EAElBF,EAAW,iBAAiB,SAAU,eAAgBG,EAAG,CACrDA,EAAE,eAAc,EAChB,MAAMC,EAAaH,EAAY,MAAM,KAAI,EAEzC,GAAIG,IAAe,GAAI,CACnB,SAAS,MAAM,CACX,MAAO,QACP,QAAS,4BACrB,CAAS,EACD,MACH,CAEDlB,EAAO,MAAM,QAAU,QACvBC,EAAQ,UAAY,GAEpB,GAAI,CACA,MAAMkB,EAAO,MAAMzB,EAAawB,EAAYF,CAAW,EACvDX,EAAcc,EAAK,KAAMH,IAAgB,CAAC,EAEtCG,EAAK,KAAK,SAAW,EACrBV,KAEAC,IACAM,IAEP,OAAQjB,EAAO,CACZC,EAAO,MAAM,QAAU,OACvB,QAAQ,MAAM,uBAAwBD,CAAK,EAC3C,SAAS,MAAM,CACX,MAAO,QACP,QAAS,0DACrB,CAAS,CACJ,CACL,CAAC,EAEDK,EAAY,iBAAiB,QAAS,gBAAkB,CACpDJ,EAAO,MAAM,QAAU,QAEvB,GAAI,CACA,MAAMmB,EAAO,MAAMzB,EAAaqB,EAAY,MAAM,KAAI,EAAIC,CAAW,EACrEX,EAAcc,EAAK,KAAM,EAAK,EAE1BA,EAAK,KAAK,SAAW,GACrBV,IACAI,KAEAG,GAEP,OAAQjB,EAAO,CACZC,EAAO,MAAM,QAAU,OACvB,QAAQ,MAAM,4BAA6BD,CAAK,EAChD,SAAS,MAAM,CACX,MAAO,QACP,QAAS,+DACrB,CAAS,CACJ,CACL,CAAC,EAEDK,EAAY"}